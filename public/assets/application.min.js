(function() {
  var doStuff, formatUrl, printIssue, reset;

  reset = function() {
    return $('#issueRacer').html("");
  };

  formatUrl = function(baseUrl) {
    var repo, theSplit;
    theSplit = baseUrl.split('/');
    repo = theSplit[3] + "/" + theSplit[4];
    return "https://api.github.com/repos/" + repo + "/issues?state=closed";
  };

  printIssue = function(user) {
    return $('#issueRacer').append("<div>\n  <img width='50px' src='" + user.avatar_url + "'/>\n  " + user.login + "\n</div>");
  };

  doStuff = function(issuePath) {
    return $.getJSON(issuePath, function(response) {
      var issue, _i, _len, _results;
      _results = [];
      for (_i = 0, _len = response.length; _i < _len; _i++) {
        issue = response[_i];
        _results.push(printIssue(issue.user));
      }
      return _results;
    });
  };

  $(function() {
    var init, issuePath;
    init = (function() {})();
    issuePath = 'https://api.github.com/repos/laravel/framework/issues';
    doStuff(issuePath);
    return $(document).on("change", "[name='repo']", function(e) {
      var path;
      path = $("[name='repo']").val();
      reset();
      return doStuff(formatUrl(path));
    });
  });

}).call(this);
